{% extends 'base.html' %}
{% block content %}
<h2>Therapist Dashboard</h2>
<p>Welcome, {{ user.username }}!</p>

{% if profile %}
    <p>Speciality: {{ profile.speciality }}</p>
    <p>Availability: {{ profile.availability }}</p>
    <p>Location: {{ profile.location }}</p>
{% else %}
    <p>You haven't set up your profile yet. Please <a href="{% url 'edit_therapist_profile' %}">set up your profile</a>.</p>
{% endif %}

<h3>Your Appointments</h3>
<ul>
{% for appt in appointments %}
    <li>
        {{ appt.date }} with {{ appt.client.username }} 
        ({{ appt.status }})
        - <a href="{% url 'mark_appointment_status' appt.id 'confirmed' %}">Confirm</a>
        - <a href="{% url 'mark_appointment_status' appt.id 'completed' %}">Complete</a>
        - <a href="{% url 'mark_appointment_status' appt.id 'cancelled' %}">Cancel</a>
    </li>
{% empty %}
    <li>No upcoming appointments.</li>
{% endfor %}
</ul>

<p><a href="{% url 'edit_therapist_profile' %}"><b>Edit profile here</b></a></p>
{% endblock %}

